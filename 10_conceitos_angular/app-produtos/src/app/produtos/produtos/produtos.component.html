<div class="container margem">
    <h1 class="text-center">Gestão de Produtos</h1>
    <br />

    <div class="row">

        <!-- Lista de produtos -->
        <div class="col-md-6">
            <!-- filtrando os produtos -->
            <div class="form-group">
                <label for="" class="form-control">Informe a descrição do produtos</label>
                <input type="text" #busca (keyup)="0" class="form-control">

            </div>


            <ul class="list_group">
                <li *ngFor="let item of produtos | sublista: busca.value" (click)="selecionar(item)"
                    class="list-group-item">
                    <a [routerLink]="['/produtos']"
                        [class.selecionado]="item === produtoSlecionado">{{item.descricao | uppercase}}
                    </a>
                </li>
            </ul>
            <button type="button" (click)="novo()" class="btn btn-info">
                <span class="glyphicon glyphicon-plus"></span>
                Novo
            </button>
        </div>

        <!-- Formulário para inclusão de produtos -->
        <div *ngIf="produtoSlecionado; else blocoElse">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="codigo">Código: </label>
                    <input type="number" [(ngModel)]="produtoSlecionado.codigo" class="form-control" id="codigo"
                        name="codigo">
                </div>

                <div class="form-group">
                    <label for="descricao">Descrição: </label>
                    <input type="text" [(ngModel)]="produtoSlecionado.descricao" class="form-control" id="descricao"
                        name="descricao">
                </div>

                <div class="form-group">
                    <label for="unidade">Unidade: </label>
                    <input type="text" [(ngModel)]="produtoSlecionado.unidade" class="form-control" id="unidade"
                        name="unidade">
                </div>

                <div class="form-group">
                    <label for="preco">Preço: </label>
                    <input type="text" [(ngModel)]="produtoSlecionado.preco" class="form-control" id="preco"
                        name="preco">
                </div>

                <div class="form-group">
                    <label for="categoria">Categoria: </label>
                    <select name="categoria" [(ngModel)]="produtoSlecionado.categoria" id="categoria"
                        class="form-control">
                        <option> INFORMATICA </option>
                        <option> VESTUARIO </option>
                        <option> ALIMENTACAO </option>
                        <option> HIGIENE </option>
                        <option> CONSTRUCAO </option>
                    </select>

                </div>
                <div class="form-group">
                    <button type="button" (click)="incluir(produtoSlecionado)" class="btn btn-info">
                        <span class="glyphicon glyphicon-pencil"> </span>
                        Incluir
                    </button>
                </div>
            </div>

        </div>
        <ng-template #blocoElse>
            <div class="col-md-6">
                <span class="alert alert-info">
                    Selecionar um produto na lista, ou incluir novo produto.
                </span>
            </div>
        </ng-template>
    </div>

</div>